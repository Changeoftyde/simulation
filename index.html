<!DOCTYPE html>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<html>
<body onload="onload()">
<img src="IMG_7994.png" height="0" width="0" id="ref">
<div class="grass">
  <img class="spawnpoint" src="IMG_7996.png">
  <img class="grassImg" id="grassImg" src="IMG_7993.png">
  <canvas class="testCan" id="testCan" >Your browser does not support the HTML canvas tag.</canvas>
</div>


<style>
  .spawnpoint {
    width: 1vh;
    height: auto;
    position: absolute;
    z-index: 4;
  }
  .testCan {
    width: 200vh;
    height: 200vh;
    position: absolute;
    top: 0;
    left: 0;
    z-index: 2;
  }
  .grassImg {
    width: 200vh;
    height: 200vh;
    position: absolute;
    top: 0;
    left: 0;
    z-index: 3;
  }
  .grass {
    width: 40vh;
    height: 40vh;
    position: absolute;
    left: 50%;
    top: 35%;
    clip-path: circle(50%);
    transform: translate(-50%, -50%);
    overflow: hidden;
    background-color: white;
  }
  body {
    margin: 0;
    padding: 0;
    background-color: black;
  }
</style>

<script>
  topA = Math.random() * -160;
  left = Math.random() * -160;
  document.getElementById("grassImg").style.top = topA + "vh";
  document.getElementById("grassImg").style.left = left + "vh";
  document.getElementById("testCan").style.top = topA + "vh";
  document.getElementById("testCan").style.left = left + "vh";
  document.getElementById("testCan").width = window.innerHeight * 2;
  document.getElementById("testCan").height = window.innerHeight * 2;
  document.getElementById("testCan").style.width = window.innerHeight * 2 + "px";
  document.getElementById("testCan").style.height = window.innerHeight * 2 + "px";
  c = document.getElementById("testCan");
  ctx = c.getContext("2d");
  img = document.getElementById("ref");
  ctx.drawImage(img, 0, 0, c.style.width, c.style.height);
  function onload() {
  alpha = 0;
  while (alpha != 255) {
    totalTopOffset = Math.round((topA * -1 + Math.round(Math.random() * 40)) / 100 * window.innerHeight);
    totalLeftOffset = Math.round((left * -1 + Math.round(Math.random() * 40)) / 100 * window.innerHeight);
    alpha = 0;
    imgData = ctx.getImageData(totalLeftOffset, totalTopOffset, 4, 4);
    alert(imgData.data);
    for (i = 0; i < 16; i++) {
      alpha += imgData.data[(4 * i) + 3];
    }
    alpha = alpha / 16;
  }
  document.getElementById("spawnpoint").style.top = (0.15 + totalTopOffset - (topA / -100 * window.innerHeight)) * window.innerHeight + "px";
  document.getElementById("spawnpoint").style.left = (0.3 + totalLeftOffset - (left / -100 * window.innerHeight)) * window.innerHeight + "px";
  }
</script>
</body>
</html>
